import copy

seats = [".....................................................................................................",
".######.############.######.############.#############.#########################.########.#########..",
".######.############.#######.#####.#####.#####################.#################################.##..",
".#############.#############.#####.####################################.########.#.######.##.######..",
".#############.#####.#################.##########.####.#######.#################.########.#########..",
".#####..################################.########.####.#######.#####.##.##############.##.#########..",
".######.#####..#####.#######.#####.########.###########################.#######.#########.#.#####.#..",
".######.######.###.#.#######.#####.#####.########.####.######..########.########.##############.###..",
"..############.###.#.###################.########.############.######.#.#.#############.#.#########..",
".######.######.#####.#######..##########..#######.############.########.########.###.####..########..",
"...........##....#..##..#.....#...#....#............#.##...#.......#.#.##...#.#...#....#.#....###....",
".######.######.#####.#######.###.#.#####.#####################.#############.##..#######.##########..",
".#############.#####.#######.###.#.##############.####.#######.########.########.##############.###..",
"..#####..##.##..###.########.#####.#####.#############.#######.#################.##################..",
".#.####.###.########.#######.#####.###################.###.###.########.########.#############.####..",
".######.####################.#.#########.#####################.######.#.########.########.#########..",
".######.############.#############.#####.########.####.#######.######.#.########.########.#########..",
"....#####.......#.##..#..##...##..#.....#...#...###.#.#.....#.#....#.#......##..#.#.#..##.#.....##...",
".###########.#.###.#########.###########.########.####.################.######.#.##.###############..",
".######.######.#####.#######.#####.#####.#############.###.###.########.########..##############.##..",
".######.############.#######.#####.###################.#####.#.#################.########.#########..",
".#####..##.#.#######.#######.#####.#######.###########.#######################.#.########.#########..",
".######.######.#####.#######.######.####.########.####.################################.#.#########..",
".#.####.######.#####.#######.#####.#####.########.####.####.##.#################.########.#########..",
"..#####.######.#####.#######.#####.#.###.########.###..#######.##.#####.#################.#########..",
".######.######.#####.############################.####.################.#.######.#################...",
".#.##..###.#.........#.#....#...##.#......#..##.......#.....#.##.....#..#.#.....#.....#.#...#.#......",
".######.############.#######.#####..####..############.#######.##############################.#####..",
".###.#..####.#.#############.#####.#####.#.#######.######################################..########..",
".######.######.####.########.####################.####.#######..#######.#################.#########..",
".##.###############..############..#########.#########.####.###########################.#.#########..",
".######..#################.#.###########.########.####.################.########.########.#########..",
"...#...#...#..#..##...#..........#.....#......#....#.#..#.#.#..#.##....#..#...#...#......#.....#..#..",
".############..#####.#######.#####.###################.##.#############.#.######.########.#########..",
".#############.#####.#######.#####.#####.########.####.#.#####.#################..#######.#########..",
".#############.########.####.#####.##############.####.#########.######.######.##########.#########..",
".#############.#####.#############.###########################.###.####.########.#####.##########.#..",
".#############.#.###.#######.#####.#####.####.########.#####################.###.########.#########..",
".######.############.#######.#####.#####.#############.#######.########.########.#######..#########..",
".###..#..####.###.#......#...##.#..#.#...#...##....#.#.#.#................#....#..#...#......###.#...",
".#############.#############.####..#####.########.####.#######.########..#######.##################..",
".######.######.################.########.##################.##.########.######.##########.#########..",
"..#####.######.#####.#############.##############.####.#######.########.########.########.####.####..",
".#############.#############.###########.########.###########..########.########.########.#.#######..",
".#############.#####.#######.####################.####.################.#####.##.##################..",
".######.######.#####.####.##.#####.#####.########..###.#####.#.#################.###.####.#########..",
".##.###.######.#####.#############.##.###########.############.########.###.#.##.###########.######..",
".#############.#####..##################.#.######.####.#######.#########.################.#########..",
"..#####..#.#.#...#...#..##.#.#.##.#...#.#.#...................##..#...#......#..#.........#.....##...",
".####.########.#####.#######.######.#############.####.#.#####.#################.########.#########..",
".######.######.######.#.####.#####.##############.####.################.########.####.###.##..####...",
"..#####.############.####.########.##############.#.####.##############.#######..########.#########..",
".######.######.#####.#######.####...#####.#######.####.######..####################################..",
".###################.###################.###.#########.#######.########..#.#####.########.#########..",
".#############.#############.###########.#############.#######.########.########.##.##############...",
".###.##.######.#####.#######.###########.########.#####################.###########################..",
".######.######.#############.########.########.##.####.#######.########.###########################..",
".######.###..#.#####.#################.#.#############.#######.########.########.########.#########..",
".#.##.#.#...#.##.#.###...#.......###.#.##..####.#.#...#..##.#..##..#.#..####.#.#..#.#....#....#...#..",
".######.############.#######.#####.#####.########.####.#######.#################.###.####.#.#######..",
".######.####################.#####.################.##.################.#################.#########..",
".######.#.####.#####.###.###.#############.###########.######..########.########.########.#########..",
".####.########.#####..############.##.##.#############.#######.########.#.######.##################..",
".######.####################.###########.#############.#######.########.########..#######.##.######..",
".######.############.#############.####..#######################################.########.###.#####..",
".#.#..#................#..##.....##...#............#....##..##.###.#.............#..#...#.....###....",
".################.##.#######.#####.###################.#######.#################.########.#########..",
".######.#####.######.#######.#####.###.##########.####.#######.########.########.########.########...",
".######.##############.#####.#####.##.##.########.####.#######.##.#####.#################.#########..",
".####.##.#####.#####.#######.#####.#####.########.####.#######.#################.########.#########..",
".######.#####..#####.#######.####################.####.#######.###.####.######.#.########.#########..",
".#.#..#...##.#.....##..##.#.....#.#..#....#..#.#...#.####....#...##......#..#....##..#..#........##..",
".###################.####.##.###########.#############.################.###.####.########.#####.###..",
".#############.#####.#######.########.##.######.######.#######.########.###########################..",
".######.#####.######.#######.###########..#######.#.##.#######.########.################..#########..",
".######.############.#######.#####.#####.#####################.########.###.####.########.#########..",
".######.#################.##.#####.################.##########.########.########.########.#########..",
".######.####.#.#############.#########.#.########.####.#######.########.#######..########.#########..",
".#####..####.#.#####.#############.#####.########.############.################..########.#########..",
".#.#################.#######.##.##.#####.#############.##.######################.########.#########..",
".##.#......#......#...#..###.....#.#..#.#...#......#..#..#.....#...##.#.##.#.###....#.###....#..#....",
".##########.##########.##.##.###########.#..#####.####.#######.########.########.########.#########..",
".######.######.#####.#######.#####.#####.#####.##..###.#######.#########.#######.########.#########..",
".######..##.##.#####.#######.#.#########.########.########.###.###.####.################..#########..",
".###########.#######.###.#########.#####.########.######.##############.########.########.#########..",
".###########.#.#####.#######.#####.#####.########.#.###########.#######.########.########.#########..",
".######.######..####.################.##.####.###.####.#######.########.########.########.#########..",
".###################.#######.#########.#.#.######.############.#################.########.#########..",
".######.############.#######.###########.##########.###################.##.#########.#######.######..",
".#..#.##......###....####.......#.#..#..#....#####..#####..#..#.#.#........###...##.#......###.......",
".######.####################.####..###################.#########.##.###.########.########.#########..",
".######.######.#####.#######.###########.########.############.########.########.########.#########..",
".#####.####.########..######.#####.####...#####.#.####.#######..########.################.#########..",
".#############.#####.#######.#####.######.############.##################.######.########.#####.###..",
".#############.#####.#.#####.###########.##########.##.##########.#####.########.#############.####..",
".#####.#############.#######.#####.#####.########.####.#######.##########################.#########..",
".######.######.#####.#######.#####.#####.########.####.#######.########.########.########.#########..",
".######.######.#####.#######.#####.###################.#######.########.#.######.#################...",
".###########################.###########.########.####.#####.############################.#########..",
"....................................................................................................."]
#1667

"""
seats = [".............",
".#.##.##.##..",
".#######.##..",
".#.#.#..#....",
".####.##.##..",
".#.##.##.##..",
".#.#####.##..",
"...#.#.......",
".##########..",
".#.######.#..",
".#.#####.##..",
"............."]
"""

newSeats = seats.copy()

seatRow = ""
occSeats = 0
for y in range(len(newSeats)):
    newSeats[y] = list(newSeats[y])
for y in range(len(seats)):
    seats[y] = list(seats[y])

while 1:

    for y in range(1, len(seats)-1): 
        adjCtr = 0
        rowAbove = seats[y-1]
        seatRow = seats[y]
        rowBelow = seats[y+1]
        newSeatRow = newSeats[y]
        
        for x in range(1, len(seatRow)-1):
            adjCtr = 0
            if seatRow[x] == "L" or seatRow[x] == "#":

                # Up Left
                x1 = x
                y1 = y
                while y1 > 0 and x1 > 0:
                    y1 -= 1
                    x1 -= 1
                    if seats[y1][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x1] == "L":
                        break
                    
                #Straight up
                y1 = y
                while y1 > 0:
                    y1 -= 1
                    if seats[y1][x] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x] == "L":
                        break
                
                # Up Right
                x1 = x
                y1 = y
                while y1 > 0 and x1 < len(seatRow)-1:
                    y1 -= 1
                    x1 += 1
                    if seats[y1][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x1] == "L":
                        break
                    
                #Straight Left
                x1 = x
                while x1 > 1:
                    x1 -= 1
                    if seats[y][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y][x1] == "L":
                        break
        
                #Straight Right
                x1 = x
                while x1 < len(seatRow)-1:
                    x1 += 1
                    if seats[y][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y][x1] == "L":
                        break
                    
                # Down Left
                x1 = x
                y1 = y
                while y1 < len(seats)-1 and x1 > 0:
                    y1 += 1
                    x1 -= 1
                    if seats[y1][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x1] == "L":
                        break
                    
                # Straight Down
                y1 = y
                while y1 < len(seats)-1:
                    y1 += 1
                    if seats[y1][x] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x] == "L":
                        break
                
                # Down Right
                x1 = x
                y1 = y
                while y1 < len(seats)-1 and x1 < len(seatRow)-1:
                    y1 += 1
                    x1 += 1
                    if seats[y1][x1] == "#":
                        adjCtr += 1
                        break
                    if seats[y1][x1] == "L":
                        break

                if adjCtr >= 5:
                    newSeatRow[x] = "L"
                if adjCtr == 0:
                    newSeatRow[x] = "#"
                adjCtr = 0
                

        newSeats[y] = newSeatRow
    if seats == newSeats:
        break
    seats = [row[:] for row in newSeats]

for y in range(len(seats)-1):
    seatRow = seats[y]
    for x in range(len(seatRow)-1):
        if seats[x][y] == "#":
            occSeats += 1
print("Occupied Seats =",occSeats)
occSeats = 0

# manual:0m7.275s
# deep: 0m5.595s
# manual dadsWay: 0m5.149s
# manual michaels way: 